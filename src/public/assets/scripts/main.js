biigle.$viewModel("laserpoints-panel",function(e){var i=biigle.$require("messages.store");new Vue({el:e,mixins:[biigle.$require("core.mixins.loader")],data:{processing:!1,distance:null},methods:{detect:function(e,s){this.loading||(s=this.distance||s,this.startLoading(),biigle.$require("api.laserpoints").processImage({image_id:e},{distance:s}).then(this.imageProcessing)["catch"](i.handleErrorResponse)["finally"](this.finishLoading))},imageProcessing:function(){this.processing=!0}}})}),Vue.component("laserpoints-form",{mixins:[biigle.$require("core.mixins.loader")],data:function(){return{volumeId:biigle.$require("volumes.volumeId"),distance:1,processing:!1}},computed:{submitDisabled:function(){return this.loading||this.processing}},methods:{submit:function(){this.startLoading(),biigle.$require("api.laserpoints").processVolume({volume_id:this.volumeId},{distance:this.distance}).then(this.volumeProcessing)["catch"](biigle.$require("messages.store").handleErrorResponse)["finally"](this.finishLoading)},volumeProcessing:function(){this.processing=!0}}}),biigle.$declare("api.laserpoints",Vue.resource("api/v1/images{/image_id}/laserpoints",{},{processVolume:{method:"POST",url:"api/v1/volumes{/volume_id}/laserpoints/area"},processImage:{method:"POST",url:"api/v1/images{/image_id}/laserpoints/area"}}));